---
import BaseHead from '../components/BaseHead.astro';
import Body from '../components/Body.astro';
import Container from '../components/Container.astro';
import CompanyName from '../components/CompanyName';
import MySocials from '../components/MySocials';
import BlogPostCard from '../components/BlogPostCard.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../config';

const posts = (await Astro.glob('./blog/*.{md,mdx}')).sort(
  (a, b) =>
    Number(new Date(b.frontmatter.publishedAt)) -
    Number(new Date(a.frontmatter.publishedAt)),
);
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <Body>
    <Container>
      <div
        class="flex flex-col justify-center items-start max-w-2xl mx-auto mb-16"
      >
        <h1
          class="font-bold text-3xl md:text-5xl tracking-tight mb-4 text-black dark:text-white"
        >
          ðŸ‘‹ Hi, I&apos;m Nicolas Charpentier
        </h1>
        <div class="max-w-prose">
          <h2 class="prose text-gray-600 dark:text-gray-400">
            I&apos;m a Software Engineer mainly playing with React Native,
            React, GraphQL, and Continuous Integrations (CircleCI, GitHub
            Actions). I&apos;m an{' '}
            <span class="highlight dark:text-white">
              open source enthusiast
            </span>
            , and I enjoy removing friction from the developer experience. I often
            describe myself as someone doing the &quot;backend&quot; work of the
            frontend: frontend architecture and infrastructure. Currently working
            at{' '}
            <CompanyName className="decoration-shortcut">Shortcut</CompanyName>{
              ' '
            }
            (formerly{' '}
            <CompanyName className="decoration-durple">Clubhouse</CompanyName>).
          </h2>

          <div class="flex justify-end w-full mt-4 lg:mt-0 mb-8">
            <MySocials />
          </div>
        </div>

        <h3
          class="font-bold text-2xl md:text-4xl tracking-tight mb-8 text-black dark:text-white"
        >
          Blog Posts
        </h3>
        {
          posts.map((post) => (
            <BlogPostCard url={post.url} {...post.frontmatter} />
          ))
        }
      </div>
    </Container>
  </Body>
</html>
